(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["client_global_services_search_utils_itemsSearchResult_ts-graphql_fragments_typeaheadDefaultRe-63f8a3"],{97454:(e,n,i)=>{"use strict";i.d(n,{V:()=>a,k:()=>t});const t=7,a=500},14067:(e,n,i)=>{"use strict";i.d(n,{LQ:()=>t,cT:()=>a,Sf:()=>l,PU:()=>r});let t=function(e){return e.click="click",e.view="view",e}({}),a=function(e){return e.click="click",e.submit="submit",e}({}),r=function(e){return e.defaultResult="default-result",e.preview="preview-item",e.previewBrand="preview-brand",e.previewViewAll="preview-view-all",e.recent="recent-search",e.suggested="suggested-term",e.trending="trending-search",e}({}),l=function(e){return e.ambiguousNER="ambiguous-ner",e.ner="ner",e.freeText="free_text",e}({})},13091:(e,n,i)=>{"use strict";i.d(n,{OB:()=>p,_s:()=>S,kb:()=>k,qx:()=>g,rn:()=>h}),i(76281),i(82367);var t=i(14067),a=i(32291),r=i(74194),l=i(97454),d=i(86334);const{boys:u,girls:o,women:s}=d.Js,c=e=>[u,o,s].map(String).includes(e)?e:s,m=e=>"TypeaheadV3DefaultResult"===(null==e?void 0:e.__typename),v=e=>{var n;if(m(e)&&null!==(n=e.correction)&&void 0!==n&&n.applied){const{filtersInput:n}=e.correction.correctedQuery;return n.department_tags[0]}const i=null==e?void 0:e.department,t=r.ON.dropdown.department();return null!=i?i:t},f=e=>{switch(null==e?void 0:e.__typename){case"RecentSearchV2":return t.PU.recent;case"TypeaheadV3DefaultResult":return t.PU.defaultResult;case"TrendingSearch":case"TypeaheadTrendV2":return t.PU.trending;default:return t.PU.suggested}},p=(e,n,i)=>{var t,l,u,o,s,p,k,h;const g=v(e),S=(e=>{var n;return m(e)&&null!==(n=e.correction)&&void 0!==n&&n.applied?e.correction.correctedQuery.filtersInput:null!=e&&e.filtersInput?e.filtersInput:{department_tags:[v(e)]}})(e),y=m(e),N=(e=>{var n,i;if(m(e)&&null!==(n=e.correction)&&void 0!==n&&n.applied){const{searchText:n,skipSpellcheck:i}=e.correction.correctedQuery;return!(!n||!i)}return null===(i=null==e?void 0:e.isFreeText)||void 0===i||i})(e),F=(e=>{var n,i;const t=null!==(n=null==e?void 0:e.searchTerm)&&void 0!==n?n:r.ON.input.value();return m(e)&&null!==(i=e.correction)&&void 0!==i&&i.applied?e.correction.correctedQueryLabel:t})(e),_=null!==(t=null==e?void 0:e.skipSpellcheck)&&void 0!==t&&t,R=null!==(l=null==e?void 0:e.interpretationId)&&void 0!==l?l:null,T=null!==(u=null==e?void 0:e.suggestionId)&&void 0!==u?u:null,w=null!==(o=null==e?void 0:e.id)&&void 0!==o?o:T,{segmentTags:I,skipFallback:D}=null!=e?e:{},b=y?d.zN.search_form:d.zN.search_dropdown,{pathname:E,search:V}=(0,a.ew)(S,F,null!=D&&D,_,(e=>{var n;return!(!m(e)||null===(n=e.correction)||void 0===n||!n.applied)})(e),!0,n,i);return{assortment:c(g),clientModule:b,department:g,filtersInput:S,id:null!=w?w:"".concat(F,"-").concat(JSON.stringify(S)),interpretationId:R,isFreeText:N,locationPathname:E,locationSearch:V,objectId:null!==(s=null==e?void 0:e.objectId)&&void 0!==s?s:null,queryId:null!==(p=null==e?void 0:e.queryId)&&void 0!==p?p:null,resultId:null!==(k=null==e?void 0:e.resultId)&&void 0!==k?k:null,searchTerm:F,segmentTags:null!=I?I:null,skipFallback:null!=D&&D,skipSpellcheck:_,source:f(e),suggestionId:T,totalCount:null!==(h=null==e?void 0:e.totalCount)&&void 0!==h?h:0}},k=(e,n)=>{const i=null==e?void 0:e.some((e=>"FREE_TEXT"!==e.type));return n?t.Sf.ambiguousNER:i?t.Sf.ner:t.Sf.freeText},h=(e,n,i)=>{var t,a;const r=null==e||null===(t=e.typeaheadV3)||void 0===t?void 0:t.defaultResult;return{...p(null!=r?r:{__typename:"TypeaheadV3DefaultResult"},n,i),correction:null!==(a=null==r?void 0:r.correction)&&void 0!==a?a:null}},g=e=>{var n;const i=null==e||null===(n=e.typeaheadV3)||void 0===n?void 0:n.defaultResult;if(!i)return null;const{interpretations:t}=i;return t?[p(i),...t.map((e=>p(e)))]:null},S=(e,n,i,t)=>{var a,r;const d=null!==(a=null==e?void 0:e.results)&&void 0!==a?a:[],u=null==e?void 0:e.defaultResult,o=null!==(r=null==u?void 0:u.interpretations)&&void 0!==r?r:[],s=o.length>0,c=u?p(u,i,t):null,m=s?o.map((e=>p(e))):null,v=d.map((e=>p(e,i,t))),f=c?[c,...v]:v,k=c&&m?[c,...m,...v]:v,h=s?k:f;return n?h:h.slice(0,l.k)}},37098:e=>{var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"itemsSearchResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ItemsSearchResult"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assortment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"department"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filtersInput"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interpretationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFreeText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"objectId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"queryId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"searchTerm"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"segmentTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"skipFallback"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"skipSpellcheck"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}],loc:{start:0,end:274}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}n.loc.source={body:"fragment itemsSearchResult on ItemsSearchResult {\n  id\n  assortment\n  department\n  filtersInput\n  interpretationId\n  isFreeText\n  objectId\n  queryId\n  resultId\n  searchTerm\n  segmentTags {\n    type\n    value\n  }\n  skipFallback\n  skipSpellcheck\n  suggestionId\n  totalCount\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function a(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}n.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),t[e.name.value]=n}})),e.exports=n,e.exports.itemsSearchResult=function(e,n){var i={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,l=new Set,d=new Set;for(r.forEach((function(e){d.add(e)}));d.size>0;){var u=d;d=new Set,u.forEach((function(e){l.has(e)||(l.add(e),(t[e]||new Set).forEach((function(e){d.add(e)})))}))}return l.forEach((function(n){var t=a(e,n);t&&i.definitions.push(t)})),i}(n,"itemsSearchResult")},74372:(e,n,i)=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"typeaheadV3DefaultResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TypeaheadV3DefaultResult"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"itemsSearchResult"},directives:[]},{kind:"Field",name:{kind:"Name",value:"interpretations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"itemsSearchResult"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"correction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"queryCorrection"},directives:[]}]}}]}}],loc:{start:0,end:257}};t.loc.source={body:"#import './itemsSearchResult.graphql'\n#import './queryCorrection.graphql'\n\nfragment typeaheadV3DefaultResult on TypeaheadV3DefaultResult {\n  ...itemsSearchResult\n\n  interpretations {\n    ...itemsSearchResult\n  }\n\n  correction {\n    ...queryCorrection\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function l(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){l(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){l(e,n)})),e.definitions&&e.definitions.forEach((function(e){l(e,n)}))}t.definitions=t.definitions.concat(r(i(37098).definitions)),t.definitions=t.definitions.concat(r(i(41605).definitions));var d={};function u(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}t.definitions.forEach((function(e){if(e.name){var n=new Set;l(e,n),d[e.name.value]=n}})),e.exports=t,e.exports.typeaheadV3DefaultResult=function(e,n){var i={kind:e.kind,definitions:[u(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=d[n]||new Set,a=new Set,r=new Set;for(t.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(d[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var t=u(e,n);t&&i.definitions.push(t)})),i}(t,"typeaheadV3DefaultResult")}}]);