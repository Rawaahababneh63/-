(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["client_global_services_search_hooks_useRotatingSearchPlaceholder_ts-client_global_services_se-308934"],{80195:(e,n,a)=>{"use strict";a.d(n,{f:()=>c});var i=a(63696),t=a(2837),r=a(22697),l=a(80228),s=a(62236),o=a(74194),d=a(63737);const c=()=>{const e=(0,t.q)(o.ON.dropdown.department),n=(0,t.q)(o.ON.input.animating),a=(0,t.q)(o.ON.input.placeholder),c=(0,s.r)(d.m6)?5e3:2e3,{data:u,previousData:m}=(0,r.I)(l,{onCompleted:e=>{var n,a;null!=e&&null!==(n=e.result)&&void 0!==n&&n.placeholders&&o.ON.input.placeholders(null==e||null===(a=e.result)||void 0===a?void 0:a.placeholders)},ssr:!1,variables:{assortment:e}}),p=null!=u?u:m,f=(0,i.useMemo)((()=>{var e,n;return null!==(e=null==p||null===(n=p.result)||void 0===n?void 0:n.placeholders)&&void 0!==e?e:[]}),[p]);return(0,i.useEffect)((()=>{const e=o.ON.input.placeholderTimer();if(n&&e||!e&&!n)return;if(!n&&e)return clearInterval(e),void o.ON.input.placeholderTimer(null);const a=setInterval((()=>{const e=o.ON.input.placeholder(),n=(f.indexOf(e)+1)%f.length;o.ON.input.placeholder(f[n])}),c);return o.ON.input.placeholderTimer(a),()=>{const e=o.ON.input.placeholderTimer();e&&(clearInterval(e),o.ON.input.placeholderTimer(null))}}),[n,f,c]),(0,i.useEffect)((()=>{o.ON.input.placeholder(f[Math.floor(Math.random()*f.length)])}),[f]),a}},40644:(e,n,a)=>{"use strict";a.d(n,{_:()=>s});var i=a(7571),t=a.n(i),r=a(67435);a(82367);const l=[[/^(#?barbie(core|\smovie)?|Jacqueline Durran|dream\s?shop)$/i,"/lp/dreamshop?utm_source=brand&utm_medium=brand&utm_campaign=brand_0723_dreamshop&referral_code=brand_0723_dreamshop"],[/^mia($|\smaples$)/i,"/lp/miamaplesapril23?utm_source=vlogger&utm_medium=influencer&utm_campaign=vlogger_miamaplesapril23&referral_code=vlogger_miamaplesapril23"],[/^ashley\salexander$/i,"/lp/ashleyamarch23?utm_source=vlogger&utm_medium=influencer&utm_campaign=vlogger_ashleyamarch23&referral_code=vlogger_ashleyamarch23"],[/^abby($|\showard$)/i,"/lp/abbyhowardapril23?utm_source=vlogger&utm_medium=influencer&utm_campaign=vlogger_abbyhowardapril23&referral_code=vlogger_abbyhowardapril23"],[/^hannah($|\sharrell$)|^festival|coachella$/i,"/lp/hannahharrelmarch23?utm_source=vlogger&utm_medium=influencer&utm_campaign=vlogger_hannahharrelmarch23&referral_code=vlogger_hannahharrelmarch23"],[/(^alix(\searl(e)?)?)|alex\s(earl(e)?)|spring break/i,"/lp/alix?utm_source=tiktok&utm_medium=influencer&utm_campaign=infl_tiktok_alixfeb23&referral_code=infl_tiktok_alixfeb23"],[/homecoming|(fall|winter|school)\s(formal|dance)/i,"/women/dresses/cocktail-dresses?department_tags=women&category_tags=dresses&occasion_tags=cocktail"],[/^rush|bid day|pref night|sorority/i,"/women/dresses?department_tags=women&category_tags=dresses&color_names=white%2Cpink%2Civory"],[/^emma\s?ch?/i,"/shops/emma?department_tags=women&supplier_id=44474110&state=listed,reserved,purchased,packed"],[/kids\scloth(es|ing)/i,"/kids"],[/^rtr|^rent/i,"/women?department_tags=women&supplier_id=44087779"],[/^rescue\s?box?|^rescues|^mystery\s?box?/i,"/rescues"],[/gift\s?(cards?|certificates?)/i,a(30408).TD]],s=e=>{const n=(0,r.Zp)();return{handleRedirect:a=>{const i=(e=>{if(!e.length)return null;const n=l.find((n=>{const[a]=n;return a.test(e)}));return n?n[1]:null})(a);return!!i&&(t()(i)&&i.startsWith("http")?(null===(r=window.open(i,"_blank"))||void 0===r||r.focus(),!0):(n(i,{state:e}),!0));var r}}}},46375:(e,n,a)=>{"use strict";a.d(n,{b:()=>b}),a(82367);var i=a(35339),t=a(67435),r=a(15917),l=a(62236),s=a(78856),o=a(4658),d=a(90391),c=a(80086),u=a(30294),m=a(14067),p=a(13091),f=a(36030),v=a(12971),k=a(90696),h=a(74194),g=a(33526),y=a(63737);const b=()=>{const e=(0,t.zy)(),n=(0,t.Zp)(),{addRecentSearch:a}=(0,s.M)(),{trackSuggestedTerm:b}=(0,c.I)(),{trackSearch:S}=(()=>{const[e]=(0,o.n)(d);return{trackSearch:async(n,a)=>{const i={variables:{input:{department:n,searchText:a}}},t=await e(i),{data:r,errors:l}=t;if(l)throw l;return r}}})(),N=(0,u.O)(),_=(0,l.r)(y.cT),w=(0,l.r)(y.x3),[T,A]=(0,i._)(r,{fetchPolicy:g.uc.NetworkOnly,onCompleted:async i=>{const t=(0,p.rn)(i,_,w),{clientModule:r,correction:l,interpretationId:s,department:o,locationPathname:d,locationSearch:c,objectId:u,queryId:g,searchTerm:y,segmentTags:T,source:A,suggestionId:D}=t;l&&h.ZF.correction({...l,queryId:g});const V={clientModule:r,clientPageType:(0,k.He)(e).page_type,queryId:g,suggestionId:D};if((0,p.qx)(i)){const e=h.ON.input.value();n({pathname:"/results",search:"?query=".concat(e)},{state:V})}else n({pathname:d,search:c},{state:V});const E={action:m.cT.submit,department:o,interpretationId:null,objectId:u,objectIdx:null,queryId:g,queryType:(0,p.kb)(T,s),searchTerm:y,source:A,suggestionId:D},q={event:v.G4.Search,search:{department:o,text:N.query}};a(t),b(E),(0,f.q)(q),S(o,N.query)}});return{result:A,submitTypeahead:e=>{if(!N.query&&!e)return;e&&h.ON.input.value(e);const n=e?{query:e}:{};T({variables:{...N,...n,isFormSubmission:!0}})}}}},30294:(e,n,a)=>{"use strict";a.d(n,{O:()=>h});var i=a(63696),t=a(2837),r=a(78437),l=a(11956),s=a(76344),o=a(49643),d=a(77921),c=a(74194),u=a(77732),m=a(86334);const{boys:p,girls:f,women:v}=m.Js,k=[v,f,p],h=()=>{const e=(0,i.useContext)(l.P9),n=(0,t.q)(c.ON.dropdown.department),a=(0,t.q)(c.ON.input.value),m=(0,i.useContext)(s.F_);return{clientApp:(0,d.b)(e),fallbackSearchAssortments:k.filter((e=>e!==n)),limit:r.ll,query:a.trim(),searchAssortments:[n],targetEnv:u.En||null,userInfo:(0,o.u)(m,{withExperiments:!0})}}},90391:e=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"trackSearch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TrackSearchInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackSearch"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:99}};function a(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,n)})),e.definitions&&e.definitions.forEach((function(e){a(e,n)}))}n.loc.source={body:"mutation trackSearch($input: TrackSearchInput!) {\n  trackSearch(input: $input) {\n    success\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function t(e,n){for(var a=0;a<e.definitions.length;a++){var i=e.definitions[a];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;a(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.trackSearch=function(e,n){var a={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var r=i[n]||new Set,l=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var o=s;s=new Set,o.forEach((function(e){l.has(e)||(l.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return l.forEach((function(n){var i=t(e,n);i&&a.definitions.push(i)})),a}(n,"trackSearch")},80228:e=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getSearchPlaceholders"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assortment"}},type:{kind:"NamedType",name:{kind:"Name",value:"SearchAssortment"}},defaultValue:{kind:"EnumValue",value:"women"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"trendingSearches"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assortment"},value:{kind:"Variable",name:{kind:"Name",value:"assortment"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"placeholders"},name:{kind:"Name",value:"searchTerms"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:159}};function a(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,n)})),e.definitions&&e.definitions.forEach((function(e){a(e,n)}))}n.loc.source={body:"query getSearchPlaceholders($assortment: SearchAssortment = women) {\n  result: trendingSearches(assortment: $assortment) {\n    placeholders: searchTerms\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function t(e,n){for(var a=0;a<e.definitions.length;a++){var i=e.definitions[a];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;a(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.getSearchPlaceholders=function(e,n){var a={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var r=i[n]||new Set,l=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var o=s;s=new Set,o.forEach((function(e){l.has(e)||(l.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return l.forEach((function(n){var i=t(e,n);i&&a.definitions.push(i)})),a}(n,"getSearchPlaceholders")},15917:(e,n,a)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getSearchTypeahead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"clientApp"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fallbackSearchAssortments"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SearchAssortment"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isFormSubmission"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchAssortments"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SearchAssortment"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetEnv"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userInfo"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserInfoInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typeaheadV3"},arguments:[{kind:"Argument",name:{kind:"Name",value:"clientApp"},value:{kind:"Variable",name:{kind:"Name",value:"clientApp"}}},{kind:"Argument",name:{kind:"Name",value:"fallbackSearchAssortments"},value:{kind:"Variable",name:{kind:"Name",value:"fallbackSearchAssortments"}}},{kind:"Argument",name:{kind:"Name",value:"isFormSubmission"},value:{kind:"Variable",name:{kind:"Name",value:"isFormSubmission"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}},{kind:"Argument",name:{kind:"Name",value:"searchAssortments"},value:{kind:"Variable",name:{kind:"Name",value:"searchAssortments"}}},{kind:"Argument",name:{kind:"Name",value:"targetEnv"},value:{kind:"Variable",name:{kind:"Name",value:"targetEnv"}}},{kind:"Argument",name:{kind:"Name",value:"userInfo"},value:{kind:"Variable",name:{kind:"Name",value:"userInfo"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"defaultResult"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"typeaheadV3DefaultResult"},directives:[]}]}}]}}]}}],loc:{start:0,end:657}};i.loc.source={body:"#import '../fragments/typeaheadDefaultResult.graphql'\n\nquery getSearchTypeahead(\n  $clientApp: String!\n  $fallbackSearchAssortments: [SearchAssortment!]\n  $isFormSubmission: Boolean = false\n  $limit: Int\n  $query: String!\n  $searchAssortments: [SearchAssortment!]!\n  $targetEnv: String\n  $userInfo: UserInfoInput!\n) {\n  typeaheadV3(\n    clientApp: $clientApp\n    fallbackSearchAssortments: $fallbackSearchAssortments\n    isFormSubmission: $isFormSubmission\n    limit: $limit\n    query: $query\n    searchAssortments: $searchAssortments\n    targetEnv: $targetEnv\n    userInfo: $userInfo\n  ) {\n    defaultResult {\n      ...typeaheadV3DefaultResult\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(a(74372).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!t[n]&&(t[n]=!0,!0)})));var l={};function s(e,n){for(var a=0;a<e.definitions.length;a++){var i=e.definitions[a];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),l[e.name.value]=n}})),e.exports=i,e.exports.getSearchTypeahead=function(e,n){var a={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=l[n]||new Set,t=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var o=r;r=new Set,o.forEach((function(e){t.has(e)||(t.add(e),(l[e]||new Set).forEach((function(e){r.add(e)})))}))}return t.forEach((function(n){var i=s(e,n);i&&a.definitions.push(i)})),a}(i,"getSearchTypeahead")},27008:e=>{"use strict";e.exports="/tup-assets/pwa/production/assets/cross-gray-5-2168eed5327fc62a4121.svg"}}]);